<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title></title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="">
    <meta name="generator" content="Hugo 0.117.0">
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    

    
<link rel="stylesheet" href="/ananke/css/main.min.css" >



    
    
    
      

    

    
    
      <link href="/post/index.xml" rel="alternate" type="application/rss+xml" title="" />
      <link href="/post/index.xml" rel="feed" type="application/rss+xml" title="" />
      
    
    
    <meta property="og:title" content="Posts" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:url" content="/post/" />
<meta itemprop="name" content="Posts">
<meta itemprop="description" content=""><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Posts"/>
<meta name="twitter:description" content=""/>

	
  </head>

  <body class="ma0 avenir bg-near-white">

    

  <header>
    <div class="pb3-m pb6-l bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="/" class="f3 fw2 hover-white no-underline white-90 dib">
      
        
      
    </a>
    <div class="flex-l items-center">
      

      
      
<div class="ananke-socials">
  
</div>

    </div>
  </div>
</nav>

      <div class="tc-l pv3 ph3 ph4-ns">
        <h1 class="f2 f-subheadline-l fw2 light-silver mb0 lh-title">
          Posts
        </h1>
        
      </div>
    </div>
  </header>


    <main class="pb7" role="main">
      

  <article class="pa3 pa4-ns nested-copy-line-height">
    <section class="cf ph3 ph5-l pv3 pv4-l f4 tc-l center measure-wide lh-copy mid-gray">
      
    </section>
    <aside class="flex-ns flex-wrap justify-around mt5">
      
        <div class="relative w-100 w-30-l mb4 bg-white">
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
      <div class="f6">
        March 30, 2018
      </div>
    
    <h1 class="f3 near-black">
      <a href="/archives/305/" class="link black dim">
        修复一个支付宝概率支付失败的问题
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      é®é¢ Appä¸­ä¸ä¸ªéççbug,å½ç¨æ·ä½¿ç¨æ¯ä»å®è¿è¡æ¯ä»æ¶ä¼æ¦çåºé.å¹¶ä¸æ²¡æè§å¾.
åå å¯¹æ¯æ¯ä»å®ççurl,åç°é¨ååæ°ä¸­å¤äº+å·,ç¨åºä¸­å¯¹urlè¿è¡äºURLDecoder.&lt;em&gt;decode&lt;/em&gt;(url),å¯¼è´ç©ºæ ¼åæäº+å·,ä»èå¯¼è´æ¯ä»å®æ¥é.
    </div>
  </div>

        </div>
      
        <div class="relative w-100 w-30-l mb4 bg-white">
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
      <div class="f6">
        February 24, 2018
      </div>
    
    <h1 class="f3 near-black">
      <a href="/archives/148/" class="link black dim">
        快速的将Android-async-http升级到OKhttp
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      èæ¯ Android-async-httpå·²ç»ä¸æ´æ°äºãps:è¿ä¸ºè¿ä¸ªåºæäº¤è¿åè½https://github.com/android-async-http/android-async-http/pull/840
Android-async-httpæ¯åºäºHttpClientçã
æ¿æ¢æ¹æ¡ å°é¡¹ç®ä¸­ææçè¯·æ±ä»£ç é½æ¿æ¢å·¥ä½éå·¨å¤§ï¼ä¹å®¹æåºé®é¢ãæä»¥éç¨å°Okhttpå°è£ ä¸ºAndroid-async-httpçæ¹å¼è¿è¡æ¿æ¢ã
android-async-httpçä½¿ç¨æ¹æ³:
&lt;pre class=&#34;wp-block-preformatted&#34;&gt;``` AsyncHttpClient client = &lt;strong&gt;new &lt;/strong&gt;AsyncHttpClient(); String url = &lt;strong&gt;&#34;http://xfans.me/api/v1/list&#34;&lt;/strong&gt;; client.get(url, &lt;strong&gt;new &lt;/strong&gt;AsyncHttpResponseHandler() { @Override &lt;strong&gt;public void &lt;/strong&gt;onSuccess(&lt;strong&gt;int &lt;/strong&gt;statusCode, Header[] headers, &lt;strong&gt;byte&lt;/strong&gt;[] responseBody) { } @Override &lt;strong&gt;public void &lt;/strong&gt;onFailure(&lt;strong&gt;int &lt;/strong&gt;statusCode, Header[] headers, &lt;strong&gt;byte&lt;/strong&gt;[] responseBody, Throwable error) { } }); ä»&amp;#142;ä»£ç &amp;#129;å&amp;#143;¯ä»¥ç&amp;#156;&amp;#139;å&amp;#135;º,æ&amp;#131;³è¦&amp;#129;å¿«é&amp;#128;&amp;#159;ç&amp;#154;&amp;#132;æ&amp;#155;¿æ&amp;#141;¢é&amp;#156;&amp;#128;è¦&amp;#129;: 1.ä½¿ç&amp;#148;¨okhttpæ&amp;#157;¥å®&amp;#158;ç&amp;#142;°`AsyncHttpClient` 2.å®&amp;#158;ç&amp;#142;°`AsyncHttpResponseHandler`,`FileAsyncHttpResponseHandler`,`JsonHttpResponseHandler`,`TextHttpResponseHandler`ç­&amp;#137;é¡¹ç&amp;#155;®ä¸­ä½¿ç&amp;#148;¨ç&amp;#154;&amp;#132;Handlerå&amp;#141;³å&amp;#143;¯. 
    </div>
  </div>

        </div>
      
        <div class="relative w-100 w-30-l mb4 bg-white">
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
      <div class="f6">
        February 24, 2018
      </div>
    
    <h1 class="f3 near-black">
      <a href="/archives/145/" class="link black dim">
        Android7,8的适配
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      èæ¯ ç¨æ·åé¦åä¸ºMate10 æ æ³ä½¿ç¨Appã
åçº§ targetSdkVersion = 26
éå°çé®é¢ ç½ç»è¯·æ±å¼å¸¸ TransactionTooLargeException éç¥æ¸ é FileUriExposedException Charlesæ æ³æHttps MODE_WORLD_READABLE no longer supported BadTokenException 7.1 Not allowed to start service getRunningServices deprecated in API level 26 As of O, this method is no longer available to third party applications. For backwards compatibility, it will still return the caller&rsquo;s own services. ps:æ¶é´å¤ªé¿äºæ³èµ·æ¥ååï¼è¯¦æ æç©ºåæ´ç 
    </div>
  </div>

        </div>
      
        <div class="relative w-100 w-30-l mb4 bg-white">
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
      <div class="f6">
        January 28, 2018
      </div>
    
    <h1 class="f3 near-black">
      <a href="/archives/141/" class="link black dim">
        Git一些常用命令
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      å½ä»¤ Remote git remote set-url origin git@github.com:xfans/VirtualApp.git
git push origin master
Upstream git remote add upstream git@github.com:asLody/VirtualApp.git
git fetch upstream
git merge upstream/master
å¿«éä¸è½½android frameworksæºç  git clone --branch android10-release git@gitee.com:mirrors/platform_frameworks_base.git --depth 1
    </div>
  </div>

        </div>
      
        <div class="relative w-100 w-30-l mb4 bg-white">
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
      <div class="f6">
        January 26, 2018
      </div>
    
    <h1 class="f3 near-black">
      <a href="/archives/91/" class="link black dim">
        Manjaro Linux安装步骤
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      ä»ç» ä¼ç¹ï¼ 1.åºäºArchï¼ä½ä¸ç¨æè ¾
2.æ»å¨æ´æ°ï¼ä½æ¯Archæ ¢ï¼æ¯Archæ´ç¨³å®
3.æ¯æAURä»åºï¼è½¯ä»¶éå¸¸å¤ï¼æ¯å¦deepin qqï¼sogouè¾å ¥æ³ç­ï¼ä¸è¡å½ä»¤å°±å¯ä»¥å®è£
4.Wikiéå¸¸ä¸°å¯
ç¼ºç¹ï¼ 1.æ»å¨æ´æ°ï¼å®¹ææ»æ
å®è£ æ­¥éª¤ ä¸è½½ https://mirrors.tuna.tsinghua.edu.cn/manjaro-cd/
usbå®è£ df -h æ&amp;#159;¥ç&amp;#156;&amp;#139;ä½ ç&amp;#154;&amp;#132;uç&amp;#155;&amp;#152;
sudo umount /dev/sdb å&amp;#141;¸è½½Uç&amp;#155;&amp;#152;
dd if=xxx.iso of=/dev/sdb bs=1M å&amp;#136;¶ä½&amp;#156;å&amp;#144;¯å&amp;#138;¨ç&amp;#155;&amp;#152;
note: /dev/sdbä¸ºuç
æ·»å å½å æº ç¼è¾ vi /etc/pacman-mirrors.conf
ä¿®æ¹ OnlyCountry=China
æ ¹æ®éåº¦æåº pacman-mirrors -g
æ·»å Archæº ç¼è¾ vi /etc/pacman.conf
å¨æ«å°¾æ·»å &lt;pre class=&#34;prism-highlight line-numbers&#34; data-start=&#34;1&#34;&gt;```null [archlinuxcn] SigLevel = Optional TrustedOnly Server = https://mirrors.ustc.edu.cn/archlinuxcn/$arch ##### å&amp;#144;&amp;#140;æ­¥ `sudo pacman -Syy &amp;&amp; sudo pacman -S archlinuxcn-keyring` ### å®&amp;#137;è£ zsh ##### æ&amp;#137;§è¡&amp;#140; `sudo pacman -S zsh` `sh -c &#34;$(curl -fsSL https://raw.
    </div>
  </div>

        </div>
      
        <div class="relative w-100 w-30-l mb4 bg-white">
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
      <div class="f6">
        January 19, 2018
      </div>
    
    <h1 class="f3 near-black">
      <a href="/archives/80/" class="link black dim">
        一个bad request http request or invalid response的错误
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      é®é¢ é¨åå®¢æ·ç«¯apiæ¥éï¼ç¹å«æ¯8.0ç³»ç»ä¸ï¼è®¿é®apiåºç°bad request http request or invalid response,from ulbéè¯¯ã
è§£å³æ­¥éª¤ 1.æå¡å¨èè° æå¡å¨ç«¯æªåç°é®é¢ï¼åæ°é½å¯¹ãæå¡å¨ä¸ä¹æ²¡æè¿å¥éè¯¯ä¿¡æ¯ãçæµåºè¯¥æ¯æå¡å¨ä¸å±æ¥åºæ¥çéè¯¯ï¼å¦è´è½½åè¡¡ã
2.ç¨Charlesæå Charlesæå åï¼å°±ä¸ä¼åºç°è¯¥éè¯¯äºãåæ¥åç°Charleså¯¹éè¯¯æ¥æè¿è¡äºå ¼å®¹å¤çï¼åç»æå¡å¨çåºè¯¥å¯¹çã
3.å»GIthubæ¥ç½ç»åºçissues é¡¹ç®ä¸­ä½¿ç¨çæ¯,Android-async-httpè¿ä¸ªåº,issuesä¸­æ²¡æäººè¯´8.0ä¸­æè¿ä¸ªé®é¢ï¼çæ³åºè¯¥æ¯èªå·±ä»£ç ä¸­çé®é¢ã
4.å¤§é²¨é±¼Wiresharkæå å¤§é²¨é±¼Wiresharkæå åä¼åºç°è¯¥éè¯¯ï¼æ²¡æçåºæ¥ææå¼å¸¸ã
æ¯è¾æ­£ç¡®çæ¥æåéè¯¯çæ¥æï¼åç°å¤§å°ä¸ä¸æ ·ã
æç»åç°ï¼æ¾äºå¥½ä¹ ï¼åæ­£å°±æ¯å¾è°é¾ï¼ï¼éè¯¯çæ¥æHeaderä¸­å¤äºä¸ä¸ªç©ºè¡ã
å¨å¾Headerä¸­æ·»å åæ°æ¶ï¼æä¸ä¸ªåæ°åºç°äº\n,æ­£å¸¸æ åµä¸å®¢æ·ç«¯åéæ¥æçæ¶ä¼å¿½ç¥\nï¼èæççæ¬æ\næ¾å¨äºæ¥æä¸­ï¼å¯¼è´æ¥ææ ¼å¼åºéã
    </div>
  </div>

        </div>
      
        <div class="relative w-100 w-30-l mb4 bg-white">
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
      <div class="f6">
        January 11, 2018
      </div>
    
    <h1 class="f3 near-black">
      <a href="/archives/69/" class="link black dim">
        使用SVN下载GitHub单个目录内的文件
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      èæ¯ ææ¶åéè¦å¨GitHubä¸ä¸è½½åä¸ªç®å½éé¢çæä»¶ï¼èä¸éè¦å»å éæ´ä¸ªé¡¹ç®ï¼å¤ªå¤§çé¡¹ç®å éèµ·æ¥å¤ªæ ¢ã
è§£å³æ¹æ¡ GitHubæ¯æ¯æSVNè®¿é®çï¼æä»¥å¯ä»¥ä½¿ç¨SVNä¸è½½åä¸ªç®å½ã
ä¸è½½masteråæ¯ å¤å¶æµè§å¨å°åæ ä¸­çå°åï¼å¦ï¼
https://github.com/bumptech/glide/tree/master/integration
å°treeæ¹ä¸ºtrunkå³å¯ã
https://github.com/bumptech/glide/trunk/integration
ä¸è½½å ¶ä»åæ¯ å¦ï¼
https://github.com/bumptech/glide/tree/3.0/integration
å°treeæ¹ä¸ºbrancheså³å¯ã
https://github.com/bumptech/glide/branches/3.0/integration
ç¶åsvn checkout å³å¯ã
    </div>
  </div>

        </div>
      
        <div class="relative w-100 w-30-l mb4 bg-white">
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
      <div class="f6">
        January 10, 2018
      </div>
    
    <h1 class="f3 near-black">
      <a href="/archives/63/" class="link black dim">
        在Okhttp中使用HTTPDNS
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      èæ¯ ç¨æ·ç»å¸¸å¨å½å¤ä½¿ç¨Appï¼å½å¤çç½ç»ç¯å¢æ´å å¤æï¼ç»å¸¸ä¼åºç°UnknownHostExceptionçå¼å¸¸ï¼æ æ³è§£æDNSã
è§£å³æ¹æ¡ å½éå°è¯¥å¼å¸¸æ¶å°±éè¦èªå·±å»è§£æDNSãå¸¸ç¨çèªå·±è§£æDNSçæ¹å¼æä¸¤ç§
1.èªå·±æ¿å°IPåæ¿æ¢ååï¼Appèçæ¹å¼ï¼ æ¯å¦ä½¿ç¨dnsjavaæ¿å°IPåéè¦ï¼
å¯¹è¯·æ±çååè¿è¡æ¿æ¢ å¯¹Headerä¸­çHostè¿è¡æ¿æ¢ å¯¹Cookieä¸­çdomainè¿è¡æ¿æ¢ Httpsä¸è¯ä¹¦æ ¡éªé®é¢ .â¦â¦ start=&ldquo;1.&quot;&gt; ä½¿ç¨èµ·æ¥æ¯è¾éº»ç¦ï¼é®é¢è¾å¤ã
2.ä½¿ç¨Okhttpèªå®ä¹DNSåè½ ç®ååæAppä»android-async-httpåæ¢å°OKhttpã(PS:è±äºä¸å¨å¤æ¶é´ï¼æ¹å°åè¡)ï¼å¯ä»¥ç´æ¥ä½¿ç¨Okhttpèªå®ä¹dnsåè½ã
DNSçè§£ææ¹å¼éæ©äºHTTPDNSï¼HTTPDNSç´æ¥ä½¿ç¨ HTTPåè®®å»æ¥è¯¢DNSï¼é¿å¼äºä¼ ç»UDPæ¹å¼DNSçDNSå«æï¼ä¸åç¡®ç­å¼ç«¯ã
è¯¦è§ï¼ãé¹ åç½äºãå ¨å±ç²¾ç¡®æµéè°åº¦æ°æè·¯-HttpDNSæå¡è¯¦è§£ 3.Okhttpèªå®ä¹DNS HTTPDNSéæ©äºDNSpodåGoogle Public DNSä¸¤å®¶ã
å¨å½å¤éç¨Google Public DNS
å¨å½å éç¨DNSpod
å®ç°æ¹å¼å¦ä¸ï¼
&lt;pre class=&#34;line-numbers prism-highlight&#34; data-start=&#34;1&#34;&gt;```java public class OkDns implements Dns { private String mIps; private long mLastDnsTime; private static final long DNS_TTL = 600 * 1000;//è&amp;#135;ªå®&amp;#154;ä¹&amp;#137;DNSç¼&amp;#147;å­&amp;#152;æ&amp;#151;¶é&amp;#151;´ @Override public List&lt;InetAddress&gt; lookup(String hostname) throws UnknownHostException { try { List&lt;InetAddress&gt; list = Dns.
    </div>
  </div>

        </div>
      
        <div class="relative w-100 w-30-l mb4 bg-white">
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
      <div class="f6">
        November 23, 2017
      </div>
    
    <h1 class="f3 near-black">
      <a href="/archives/56/" class="link black dim">
        Linux下安装网络环境模拟工具augmented-traffic-control
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      augmented-traffic-control A tool to simulate network conditions,Facebookæä¾çä¸æ¬¾ç½ç»ç¯å¢æ¨¡æå·¥å ·ï¼å¯ä»¥ä½¿ç¨ä»æ¥æµè¯Appå¨åç§ç½ç»ç¯å¢ä¸çé®é¢ã
å®è£ ç¯å¢è¦æ± Python2.7ãDjango1.10.+
ä»¥ä¸å¨Manjoraä¸çå®è£ å½ä»¤
åæ¢Pythonç¯å¢å°Python2.7 å®è£ pip sudo pacman -S python2-pip
å®è£ Django1.10.+ sudo pip install Django==1.10.8
å®è£ ATC å®è£ lib sudo pacman -S pip install atc_thrift atcd django-atc-api django-atc-demo-ui django-atc-profile-storage
Djangoé ç½® django-admin startproject atcui
cd atcui
ä¿®æ¹atcui/settings.pyä¸­çINSTALLED_APPS &lt;pre class=&#34;line-numbers prism-highlight&#34; data-start=&#34;1&#34;&gt;```bash INSTALLED_APPS = ( ... # Django ATC API &#39;rest_framework&#39;, &#39;atc_api&#39;, # Django ATC Demo UI &#39;bootstrap_themes&#39;, &#39;django_static_jquery&#39;, &#39;atc_demo_ui&#39;, # Django ATC Profile Storage &#39;atc_profile_storage&#39;, ) #### ä¿®æ&amp;#148;¹atcui/urls.
    </div>
  </div>

        </div>
      
        <div class="relative w-100 w-30-l mb4 bg-white">
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
      <div class="f6">
        November 12, 2017
      </div>
    
    <h1 class="f3 near-black">
      <a href="/archives/53/" class="link black dim">
        TransactionTooLargeException 的原因
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      é®é¢ éé 7.0æ¶åçäºTransactionTooLargeExceptionçå¼å¸¸.
åå 1.Fragmentå ³é­æ¶ä¼è°ç¨onSaveInstanceState,èå¨onSaveInstanceStateä¸­ä¿å­äºæ¯è¾å¤§çæ°æ®.
2.è°ç¨fragment.setArguments(bundle)æ¶ï¼å¾bundleä¸­æ¾äºè¿å¤§çæ°æ®ï¼FragmentManagerç®¡çFragmentæ¶saveStateæ¥é.
è§£å³æ¹æ³ ç±äºä¿å­çæ°æ®è¾å¤,æ æ³ç¡®å®é£ä¸ªæ°æ®æ¯è¾å¤§,æåä½¿ç¨è¿ä¸ªåºtoolargetoolå®ä½å°æ°æ®è¾å¤§çå¯¹è±¡.
å°toolargetoolå¼å ¥å°é¡¹ç®
&lt;pre class=&#34;wp-block-preformatted&#34;&gt;&lt;em&gt;compile &#39;com.gu.android:toolargetool:0.1.3@aar&lt;/em&gt; å¨Applicationä¸­åå§
&lt;pre class=&#34;wp-block-preformatted&#34;&gt;&lt;em&gt;TooLargeTool.startLogging(this)&lt;/em&gt; è¿ä¸ªåºä¼å¨æ¯æ¬¡å ³é­Activity,Fragmentæ¶,æå°åºonSaveInstanceStateçå¯¹è±¡åå¤§å°.å¦å¾
ç¸å ³é¾æ¥ https://github.com/guardian/toolargetool
    </div>
  </div>

        </div>
      
    </aside>
    
    <ul class="pagination pagination-default">
      <li class="page-item">
        <a href="/post/" aria-label="First" class="page-link" role="button"><span aria-hidden="true">&laquo;&laquo;</span></a>
      </li>
      <li class="page-item">
        <a href="/post/page/2/" aria-label="Previous" class="page-link" role="button"><span aria-hidden="true">&laquo;</span></a>
      </li>
      <li class="page-item">
        <a href="/post/" aria-label="Page 1" class="page-link" role="button">1</a>
      </li>
      <li class="page-item">
        <a href="/post/page/2/" aria-label="Page 2" class="page-link" role="button">2</a>
      </li>
      <li class="page-item active">
        <a aria-current="page" aria-label="Page 3" class="page-link" role="button">3</a>
      </li>
      <li class="page-item">
        <a href="/post/page/4/" aria-label="Page 4" class="page-link" role="button">4</a>
      </li>
      <li class="page-item">
        <a href="/post/page/4/" aria-label="Next" class="page-link" role="button"><span aria-hidden="true">&raquo;</span></a>
      </li>
      <li class="page-item">
        <a href="/post/page/4/" aria-label="Last" class="page-link" role="button"><span aria-hidden="true">&raquo;&raquo;</span></a>
      </li>
    </ul>
  </article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="/" >
    &copy; 
  </a>
    <div>
<div class="ananke-socials">
  
</div>
</div>
  </div>
</footer>

  </body>
</html>
