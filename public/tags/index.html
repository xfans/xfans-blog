<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title></title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="">
    <meta name="generator" content="Hugo 0.117.0">
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    

    
<link rel="stylesheet" href="/ananke/css/main.min.css" >



    
    
    
      

    

    
    
      <link href="/tags/index.xml" rel="alternate" type="application/rss+xml" title="" />
      <link href="/tags/index.xml" rel="feed" type="application/rss+xml" title="" />
      
    
    
    <meta property="og:title" content="Tags" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:url" content="/tags/" />
<meta itemprop="name" content="Tags">
<meta itemprop="description" content=""><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Tags"/>
<meta name="twitter:description" content=""/>

	
  </head>

  <body class="ma0 avenir bg-near-white">

    

  <header>
    <div class="pb3-m pb6-l bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="/" class="f3 fw2 hover-white no-underline white-90 dib">
      
        
      
    </a>
    <div class="flex-l items-center">
      

      
      
<div class="ananke-socials">
  
</div>

    </div>
  </div>
</nav>

      <div class="tc-l pv3 ph3 ph4-ns">
        <h1 class="f2 f-subheadline-l fw2 light-silver mb0 lh-title">
          Tags
        </h1>
        
      </div>
    </div>
  </header>


    <main class="pb7" role="main">
      
    
  <article class="cf pa3 pa4-m pa4-l">
    <div class="measure-wide-l center f4 lh-copy nested-copy-line-height nested-links mid-gray">
      
    </div>
  </article>
  <div class="mw8 center">
    <section class="ph4">
      
        <h2 class="f1">
          <a href="/tags/flutter/" class="link blue hover-black">
            Tag: flutter
          </a>
        </h2>
        
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
      <div class="f6">
        December 9, 2021
      </div>
    
    <h1 class="f3 near-black">
      <a href="/archives/392/" class="link black dim">
        Flutter2.5适配ThemeData
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      说明 Flutter 2.5 版本中的破坏性改动
默认的设备拖动和滚动 v2.2 版后删除了废弃的 API Package 介绍: flutter_lints ThemeData 的 accent 属性已被弃用 手势识别器清理 将 AnimationSheetBuilder.display 替换为 collate 使用 HTML 插槽在 Web 中渲染平台视图 将 LogicalKeySet 迁移至 SingleActivator 项目使用Flutter2.5编译后，部分页面的颜色发生了变化。
需要对ThemeData 的 accent 属性进行适配。
改动 主题信息 ThemeData 中的 accentColor、accentColorBrightness、accentIconTheme 和 accentTextTheme 属性现已被弃用。
Material 设计规范 不再为 Material 组件指定或使用「强调」色。组件的默认颜色来自整个主题的 颜色方案。现在通常使用 ColorScheme 的 secondary color 代替 accentColor，并且在需要对比色时使用 onSecondary 属性。
适配 适配前：
适配后：
使用时：
改为：
相关链接 https://flutter.cn/docs/release/breaking-changes/theme-data-accent-properties
https://flutter.cn/posts/whats-new-in-flutter-2-5
    </div>
  </div>

        
      
        <h2 class="f1">
          <a href="/tags/%E5%8F%A3%E8%A2%8B%E9%98%85/" class="link blue hover-black">
            Tag: 口袋阅
          </a>
        </h2>
        
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
      <div class="f6">
        August 19, 2020
      </div>
    
    <h1 class="f3 near-black">
      <a href="/archives/346/" class="link black dim">
        替换口袋阅上的Kindle/微信阅读应用
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      说明： 在未刷机的情况下，口袋阅1的默认桌面如下：
自己安装的程序无法在桌面上显示，而桌面上的kindle又不经常使用。可以改为，点击Kindle进入自己安装的程序，比如：点击Kindle进入koreader。
方法： 实质上就是，自己编写一个与Kindle包名相同的程序，启动该程序时，启动你设置的程序。核心代码如下，很简单：
可以使用已经编译好的程序：
安装后输入要替换的包名，点击确认即可。然后点击桌面的Kindle图标即可进入设置的app。注意：安装该程序后，无法安装Kindle app。包名冲突。
卸载方法：adb uninstall com.amazon.kindlefc
地址： 下载地址：http://img.xfans.me/download/kdy-replace-release.apk
代码地址：https://github.com/xfans/KdyReplace
    </div>
  </div>

        
      
        <h2 class="f1">
          <a href="/tags/%E7%94%B5%E5%AD%90%E4%B9%A6/" class="link blue hover-black">
            Tag: 电子书
          </a>
        </h2>
        
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
      <div class="f6">
        August 19, 2020
      </div>
    
    <h1 class="f3 near-black">
      <a href="/archives/346/" class="link black dim">
        替换口袋阅上的Kindle/微信阅读应用
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      说明： 在未刷机的情况下，口袋阅1的默认桌面如下：
自己安装的程序无法在桌面上显示，而桌面上的kindle又不经常使用。可以改为，点击Kindle进入自己安装的程序，比如：点击Kindle进入koreader。
方法： 实质上就是，自己编写一个与Kindle包名相同的程序，启动该程序时，启动你设置的程序。核心代码如下，很简单：
可以使用已经编译好的程序：
安装后输入要替换的包名，点击确认即可。然后点击桌面的Kindle图标即可进入设置的app。注意：安装该程序后，无法安装Kindle app。包名冲突。
卸载方法：adb uninstall com.amazon.kindlefc
地址： 下载地址：http://img.xfans.me/download/kdy-replace-release.apk
代码地址：https://github.com/xfans/KdyReplace
    </div>
  </div>

        
      
        <h2 class="f1">
          <a href="/tags/retrofit/" class="link blue hover-black">
            Tag: retrofit
          </a>
        </h2>
        
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
      <div class="f6">
        January 22, 2020
      </div>
    
    <h1 class="f3 near-black">
      <a href="/archives/335/" class="link black dim">
        retrofit2源码及请求流程分析
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      1.创建Retrofit对象 2.创建Service接口 retrofit.create方法为Service创建动态代理，可以说是Retrofit的核心。
3.创建调用API的Call对象 1.当调用Service中定义的方法时，会调用retrofit.create创建的动态代理，调用Proxy._newProxyInstance_中InvocationHandler的invoke方法,创建流程如下:
4.发起网络请求 请求网络的流程如下:
异步请求和同步类似，这里就不分析了。
    </div>
  </div>

        
      
        <h2 class="f1">
          <a href="/tags/okhttp/" class="link blue hover-black">
            Tag: okhttp
          </a>
        </h2>
        
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
      <div class="f6">
        January 17, 2020
      </div>
    
    <h1 class="f3 near-black">
      <a href="/archives/329/" class="link black dim">
        okhttp3源码及请求流程分析
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      okhttp3请求流程图如下
    </div>
  </div>

        
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
      <div class="f6">
        February 24, 2018
      </div>
    
    <h1 class="f3 near-black">
      <a href="/archives/148/" class="link black dim">
        快速的将Android-async-http升级到OKhttp
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      背景 Android-async-http已经不更新了。ps:还为这个库提交过功能https://github.com/android-async-http/android-async-http/pull/840
Android-async-http是基于HttpClient的。
替换方案 将项目中所有的请求代码都替换工作量巨大，也容易出问题。所以采用将Okhttp封装为Android-async-http的方式进行替换。
android-async-http的使用方法:
从代码可以看出,想要快速的替换需要:
1.使用okhttp来实现AsyncHttpClient
2.实现AsyncHttpResponseHandler,FileAsyncHttpResponseHandler,JsonHttpResponseHandler,TextHttpResponseHandler等项目中使用的Handler即可.
    </div>
  </div>

        
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
      <div class="f6">
        January 10, 2018
      </div>
    
    <h1 class="f3 near-black">
      <a href="/archives/63/" class="link black dim">
        在Okhttp中使用HTTPDNS
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      背景 用户经常在国外使用App，国外的网络环境更加复杂，经常会出现UnknownHostException的异常，无法解析DNS。
解决方案 当遇到该异常时就需要自己去解析DNS。常用的自己解析DNS的方式有两种
1.自己拿到IP后替换域名（App老的方式） 比如使用dnsjava拿到IP后需要：
    </div>
  </div>

        
      
        <h2 class="f1">
          <a href="/tags/%E9%80%86%E5%90%91/" class="link blue hover-black">
            Tag: 逆向
          </a>
        </h2>
        
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
      <div class="f6">
        November 28, 2019
      </div>
    
    <h1 class="f3 near-black">
      <a href="/archives/208/" class="link black dim">
        某微信群控工具逆向记录
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      说明 某微信群控软件,软件使用PC控制手机端实现对微信的群控,有PC端控制软件及android端控制软件,android端使用xposed实现对微信的控制.
逆向思路 逆向的目标是跨过PC端,使用自己的系统实现对android端的控制.因此要破解的是PC端与android端的通信协议.
逆向过程 1.熟悉软件 首先熟悉软件的功能,使用方法,常见的提示等,方便在后续逆向时能更好的理解代码.
2.分析逆向代码 使用jadx查看逆向出的伪java代码,通过分析代码最终找到pc端与android端是通过socket进行通信的.socket报文解析代码如下:
根据代码可以看出报文格式:
前4个字节为报文长度,最后一个字节为结束标示,中间为消息内容,消息内容是protobuff格式.
3.编写测试代码,逆向protobuff 根据逆向得到的消息格式尝试编写控制端,为了方便直接使用mina库实现socket.报文的编码解码很简单,复杂的是消息内容protobuff文件的逆向.
protobuff是google推出的数据格式化协议,之前没有用过pb但使用过facebook的thrift,原理上大体一致.
根据proto与java类型的对应关系,可以使用java的逆向文件反推出proto文件,然后再使用proto文件就可以生成java文件.反推比较复杂点就是注意required/optional/repeated限定符的使用.
生成protobuff的java类后就可以编写mina编写socket的编解码类了.Decode方法如下:
encode方法同理就不再贴了.
测试socket通信 要进行通信测试,首先要知道传递的参数有哪些.获取参数最简单的方法就是在protobuff解析的地方打印出log.
先使用baksmali\apktool反编译出smali代码,然后找到相应的地方插入log.然后正常操作群控工具拿到相应的log即可.具体操作步骤就不详细写了.
后续根据log中的信息,构造出protobuff对象即可与群控app正常通信.
相关链接 JADXhttps://github.com/skylot/jadx
Linux下的逆向工具集https://github.com/APK-Multi-Tool/APK-Multi-Tool-Linux
    </div>
  </div>

        
      
        <h2 class="f1">
          <a href="/tags/android/" class="link blue hover-black">
            Tag: android
          </a>
        </h2>
        
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
      <div class="f6">
        August 27, 2019
      </div>
    
    <h1 class="f3 near-black">
      <a href="/archives/178/" class="link black dim">
        Android录音、播放音乐，跳动效果动画自定义VIew
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      实现了Android录音，语音输入时的竖线波纹动画效果和音乐播放时的跳动效果
效果 实现原理 实现了两种运动效果：
1.从左到右移动 假设柱状图的高度是一个对列
27,17,38,91,38,24,8,60,38,14,8
8,27,17,38,91,38,24,8,60,38,14
14,8,27,17,38,91,38,24,8,60,38
从左到右移动实际上就是不断的将队列中的最后一个插入到队列的第一个。
代码：
2.上下跳动 假设柱状图是一个队列
27,17,38,91,38,24,8,60,38,14,8
上下跳动就是将队列的高度，从0%-100%变化
代码：
然后在onDraw绘制时高度*valueAnimatorOffset
绘制 代码：
地址 https://github.com/xfans/VoiceWaveView
    </div>
  </div>

        
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
      <div class="f6">
        November 23, 2017
      </div>
    
    <h1 class="f3 near-black">
      <a href="/archives/56/" class="link black dim">
        Linux下安装网络环境模拟工具augmented-traffic-control
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      augmented-traffic-control A tool to simulate network conditions,Facebook提供的一款网络环境模拟工具，可以使用他来测试App在各种网络环境下的问题。
安装环境要求 Python2.7、Django1.10.+
以下在Manjora下的安装命令
切换Python环境到Python2.7 安装pip sudo pacman -S python2-pip
安装Django1.10.+ sudo pip install Django==1.10.8
安装ATC 安装lib sudo pacman -S pip install atc_thrift atcd django-atc-api django-atc-demo-ui django-atc-profile-storage
Django配置 django-admin startproject atcui
cd atcui
修改atcui/settings.py中的INSTALLED_APPS 修改atcui/urls.py中的urlpatterns及引用 更新数据库 python manage.py migrate
创建虚拟Ap Linux开启虚拟AP
启动ATC sudo atcd --atcd-wan wlp3s0 --atcd-lan ap0
注意：wlp3s0是我的无线网卡，ap0是我创建的虚拟ap网卡
设置错误可能出现：https://github.com/facebook/augmented-traffic-control/issues/239
启动ATCUI python manage.py runserver 0.0.0.0:8000
导入默认配置 下载该路径下的文件https://github.com/facebook/augmented-traffic-control/tree/master/utils 运行导入命令 ./restore-profiles.sh localhost:8000
手机使用ATC 使用Android、iOS 的浏览器访问
ip:8000 ip为你电脑的ip
    </div>
  </div>

        
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
      <div class="f6">
        September 29, 2017
      </div>
    
    <h1 class="f3 near-black">
      <a href="/archives/18/" class="link black dim">
        Typecho-Android客户端开发
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      协议 XML-RPC_wp协议:https://codex.wordpress.org/XML-RPC_wp 地址:http://xxxx.com/xmlrpc Typecho XML-RPC协议:https://github.com/typecho/typecho/blob/master/var/Widget/XmlRpc.php#L2249-L2322 Demo XML-RPC_wp协议Demo:https://github.com/xfans/android-xmlrpc1 Typecho XML-RPC返回数据:IXR/Value.php 
    </div>
  </div>

        
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
      <div class="f6">
        September 29, 2017
      </div>
    
    <h1 class="f3 near-black">
      <a href="/archives/8/" class="link black dim">
        Using AndroidSVG with ImageView
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      地址:http://bigbadaboom.github.io/androidsvg/use_with_ImageView.html
Github:https://github.com/BigBadaboom/androidsvg
    </div>
  </div>

        
      
        <h2 class="f1">
          <a href="/tags/%E8%87%AA%E5%AE%9A%E4%B9%89view/" class="link blue hover-black">
            Tag: 自定义View
          </a>
        </h2>
        
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
      <div class="f6">
        August 27, 2019
      </div>
    
    <h1 class="f3 near-black">
      <a href="/archives/178/" class="link black dim">
        Android录音、播放音乐，跳动效果动画自定义VIew
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      实现了Android录音，语音输入时的竖线波纹动画效果和音乐播放时的跳动效果
效果 实现原理 实现了两种运动效果：
1.从左到右移动 假设柱状图的高度是一个对列
27,17,38,91,38,24,8,60,38,14,8
8,27,17,38,91,38,24,8,60,38,14
14,8,27,17,38,91,38,24,8,60,38
从左到右移动实际上就是不断的将队列中的最后一个插入到队列的第一个。
代码：
2.上下跳动 假设柱状图是一个队列
27,17,38,91,38,24,8,60,38,14,8
上下跳动就是将队列的高度，从0%-100%变化
代码：
然后在onDraw绘制时高度*valueAnimatorOffset
绘制 代码：
地址 https://github.com/xfans/VoiceWaveView
    </div>
  </div>

        
      
        <h2 class="f1">
          <a href="/tags/manjaro/" class="link blue hover-black">
            Tag: Manjaro
          </a>
        </h2>
        
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
      <div class="f6">
        August 27, 2019
      </div>
    
    <h1 class="f3 near-black">
      <a href="/archives/174/" class="link black dim">
        Manjaro更新后，中文显示方框
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      问题 使用Manjaro工作大约两年了，习惯性的sudo pacman -Syyu，前一段时间更新完后，很多地方的中文字体都变成了方框。
解决方法 安装字体
重启后就好了
    </div>
  </div>

        
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
      <div class="f6">
        August 13, 2019
      </div>
    
    <h1 class="f3 near-black">
      <a href="/archives/264/" class="link black dim">
        Manjaro使用deepin-wine-wechat微信无法输入中文
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      说明 把manjaro滚到最新版本后deepin-wine-wechat微信无法输入中文
解决方法 deepin-wine-wechat的github上给出了兼容列表
&lt;th&gt; wine版本 &lt;/th&gt; &lt;th&gt; 兼容性 &lt;/th&gt; &lt;th&gt; 备注 &lt;/th&gt; &lt;th&gt; deepin-wine版本 &lt;/th&gt; &lt;th&gt; 兼容性 &lt;/th&gt; &lt;th&gt; 备注 &lt;/th&gt; &lt;td&gt; 4.18-1 &lt;/td&gt; &lt;td&gt; 部分 &lt;/td&gt; &lt;td&gt; 不能使用中文输入法 &lt;/td&gt; &lt;td&gt; &lt;/td&gt; &lt;td&gt; &lt;/td&gt; &lt;td&gt; &lt;/td&gt; &lt;td&gt; 4.18-1 &lt;/td&gt; &lt;td&gt; 部分 &lt;/td&gt; &lt;td&gt; 不能使用中文输入法 &lt;/td&gt; &lt;td&gt; 2.18_18-2 &lt;/td&gt; &lt;td&gt; ? &lt;/td&gt; &lt;td&gt; &lt;/td&gt; &lt;td&gt; 4.18-1 &lt;/td&gt; &lt;td&gt; 部分 &lt;/td&gt; &lt;td&gt; 不能使用中文输入法 &lt;/td&gt; &lt;td&gt; 2.18_18-2 &lt;/td&gt; &lt;td&gt; 不支持 &lt;/td&gt; &lt;td&gt; 闪退 &lt;/td&gt; &lt;td&gt; 4.
    </div>
  </div>

        
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
      <div class="f6">
        June 8, 2018
      </div>
    
    <h1 class="f3 near-black">
      <a href="/archives/163/" class="link black dim">
        Manjaro使用privoxy将socks转为http代理
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      安装 pacman -S privoxy
配置 修改/etc/privoxy/config
添加：
forward-socks5 / 127.0.0.1:1080 . #ss的代理
listen-address localhost:8118
重启 systemctl restart privoxy
PS 终端中使用代理 export http_proxy=http://127.0.0.1:8118
export https_proxy=http://127.0.0.1:8118
    </div>
  </div>

        
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
      <div class="f6">
        January 26, 2018
      </div>
    
    <h1 class="f3 near-black">
      <a href="/archives/91/" class="link black dim">
        Manjaro Linux安装步骤
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      介绍 优点： 1.基于Arch，但不用折腾
2.滚动更新，但比Arch慢，比Arch更稳定
3.支持AUR仓库，软件非常多，比如deepin qq，sogou输入法等，一行命令就可以安装
4.Wiki非常丰富
缺点： 1.滚动更新，容易滚挂
安装步骤 下载 https://mirrors.tuna.tsinghua.edu.cn/manjaro-cd/
usb安装 df -h 查看你的u盘
sudo umount /dev/sdb 卸载U盘
dd if=xxx.iso of=/dev/sdb bs=1M 制作启动盘
note: /dev/sdb为u盘
添加国内源 编辑 vi /etc/pacman-mirrors.conf
修改 OnlyCountry=China
根据速度排序 pacman-mirrors -g
添加Arch源 编辑 vi /etc/pacman.conf
在末尾添加 同步 sudo pacman -Syy &amp;&amp; sudo pacman -S archlinuxcn-keyring
安装zsh 执行 sudo pacman -S zsh
sh -c &quot;$(curl -fsSL https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh)&quot;
chsh -s /bin/zsh
安装输入法 sudo pacman -S fcitx-im # 全部安装
    </div>
  </div>

        
      
        <h2 class="f1">
          <a href="/tags/wechat/" class="link blue hover-black">
            Tag: wechat
          </a>
        </h2>
        
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
      <div class="f6">
        August 13, 2019
      </div>
    
    <h1 class="f3 near-black">
      <a href="/archives/264/" class="link black dim">
        Manjaro使用deepin-wine-wechat微信无法输入中文
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      说明 把manjaro滚到最新版本后deepin-wine-wechat微信无法输入中文
解决方法 deepin-wine-wechat的github上给出了兼容列表
&lt;th&gt; wine版本 &lt;/th&gt; &lt;th&gt; 兼容性 &lt;/th&gt; &lt;th&gt; 备注 &lt;/th&gt; &lt;th&gt; deepin-wine版本 &lt;/th&gt; &lt;th&gt; 兼容性 &lt;/th&gt; &lt;th&gt; 备注 &lt;/th&gt; &lt;td&gt; 4.18-1 &lt;/td&gt; &lt;td&gt; 部分 &lt;/td&gt; &lt;td&gt; 不能使用中文输入法 &lt;/td&gt; &lt;td&gt; &lt;/td&gt; &lt;td&gt; &lt;/td&gt; &lt;td&gt; &lt;/td&gt; &lt;td&gt; 4.18-1 &lt;/td&gt; &lt;td&gt; 部分 &lt;/td&gt; &lt;td&gt; 不能使用中文输入法 &lt;/td&gt; &lt;td&gt; 2.18_18-2 &lt;/td&gt; &lt;td&gt; ? &lt;/td&gt; &lt;td&gt; &lt;/td&gt; &lt;td&gt; 4.18-1 &lt;/td&gt; &lt;td&gt; 部分 &lt;/td&gt; &lt;td&gt; 不能使用中文输入法 &lt;/td&gt; &lt;td&gt; 2.18_18-2 &lt;/td&gt; &lt;td&gt; 不支持 &lt;/td&gt; &lt;td&gt; 闪退 &lt;/td&gt; &lt;td&gt; 4.
    </div>
  </div>

        
      
        <h2 class="f1">
          <a href="/tags/wine/" class="link blue hover-black">
            Tag: wine
          </a>
        </h2>
        
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
      <div class="f6">
        August 13, 2019
      </div>
    
    <h1 class="f3 near-black">
      <a href="/archives/264/" class="link black dim">
        Manjaro使用deepin-wine-wechat微信无法输入中文
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      说明 把manjaro滚到最新版本后deepin-wine-wechat微信无法输入中文
解决方法 deepin-wine-wechat的github上给出了兼容列表
&lt;th&gt; wine版本 &lt;/th&gt; &lt;th&gt; 兼容性 &lt;/th&gt; &lt;th&gt; 备注 &lt;/th&gt; &lt;th&gt; deepin-wine版本 &lt;/th&gt; &lt;th&gt; 兼容性 &lt;/th&gt; &lt;th&gt; 备注 &lt;/th&gt; &lt;td&gt; 4.18-1 &lt;/td&gt; &lt;td&gt; 部分 &lt;/td&gt; &lt;td&gt; 不能使用中文输入法 &lt;/td&gt; &lt;td&gt; &lt;/td&gt; &lt;td&gt; &lt;/td&gt; &lt;td&gt; &lt;/td&gt; &lt;td&gt; 4.18-1 &lt;/td&gt; &lt;td&gt; 部分 &lt;/td&gt; &lt;td&gt; 不能使用中文输入法 &lt;/td&gt; &lt;td&gt; 2.18_18-2 &lt;/td&gt; &lt;td&gt; ? &lt;/td&gt; &lt;td&gt; &lt;/td&gt; &lt;td&gt; 4.18-1 &lt;/td&gt; &lt;td&gt; 部分 &lt;/td&gt; &lt;td&gt; 不能使用中文输入法 &lt;/td&gt; &lt;td&gt; 2.18_18-2 &lt;/td&gt; &lt;td&gt; 不支持 &lt;/td&gt; &lt;td&gt; 闪退 &lt;/td&gt; &lt;td&gt; 4.
    </div>
  </div>

        
      
        <h2 class="f1">
          <a href="/tags/onsaveinstancestate/" class="link blue hover-black">
            Tag: onSaveInstanceState
          </a>
        </h2>
        
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
      <div class="f6">
        November 9, 2018
      </div>
    
    <h1 class="f3 near-black">
      <a href="/archives/171/" class="link black dim">
        Activity中多个Fragment复杂嵌套页面onSaveInstanceState处理
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      按照最简单的原则即可:Activity处理自己的SaveInstanceState,Fragment处理自己的SaveInstanceState,不要调用Activity与Fragment之间数据传递的方法.
    </div>
  </div>

        
      
        <h2 class="f1">
          <a href="/tags/ffmpeg/" class="link blue hover-black">
            Tag: ffmpeg
          </a>
        </h2>
        
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
      <div class="f6">
        July 14, 2018
      </div>
    
    <h1 class="f3 near-black">
      <a href="/archives/278/" class="link black dim">
        使用ffmpeg将MP4高质量的转换成GIF
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      方法 ffmpeg -v warning -ss 00:00:02 -t 2 -i 5.mp4 -vf scale=300:-1 -gifflags +transdiff -y 5.gif
-ss 截取开始时间
-t 截取时长
5.mp4 是视频名称
5.gif 是转换后的名称
相关链接 http://blog.pkh.me/p/21-high-quality-gif-with-ffmpeg.html
    </div>
  </div>

        
      
        <h2 class="f1">
          <a href="/tags/%E6%94%AF%E4%BB%98%E5%AE%9D/" class="link blue hover-black">
            Tag: 支付宝
          </a>
        </h2>
        
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
      <div class="f6">
        March 30, 2018
      </div>
    
    <h1 class="f3 near-black">
      <a href="/archives/305/" class="link black dim">
        修复一个支付宝概率支付失败的问题
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      问题 App中一个遗留的bug,当用户使用支付宝进行支付时会概率出错.并且没有规律.
原因 对比支付宝的的url,发现部分参数中多了+号,程序中对url进行了URLDecoder.&lt;em&gt;decode&lt;/em&gt;(url),导致空格变成了+号,从而导致支付宝报错.
    </div>
  </div>

        
      
        <h2 class="f1">
          <a href="/tags/%E9%80%82%E9%85%8D/" class="link blue hover-black">
            Tag: 适配
          </a>
        </h2>
        
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
      <div class="f6">
        February 24, 2018
      </div>
    
    <h1 class="f3 near-black">
      <a href="/archives/145/" class="link black dim">
        Android7,8的适配
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      背景 用户反馈华为Mate10 无法使用App。
升级 targetSdkVersion = 26
遇到的问题 网络请求异常
TransactionTooLargeException
通知渠道
FileUriExposedException
Charles无法抓Https
MODE_WORLD_READABLE no longer supported
BadTokenException 7.1
Not allowed to start service
getRunningServices deprecated in API level 26 As of O, this method is no longer available to third party applications. For backwards compatibility, it will still return the caller&rsquo;s own services.
ps:时间太长了想起来再写，详情有空再整理
    </div>
  </div>

        
      
        <h2 class="f1">
          <a href="/tags/git/" class="link blue hover-black">
            Tag: git
          </a>
        </h2>
        
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
      <div class="f6">
        January 28, 2018
      </div>
    
    <h1 class="f3 near-black">
      <a href="/archives/141/" class="link black dim">
        Git一些常用命令
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      命令 Remote git remote set-url origin git@github.com:xfans/VirtualApp.git
git push origin master
Upstream git remote add upstream git@github.com:asLody/VirtualApp.git
git fetch upstream
git merge upstream/master
快速下载android frameworks源码 git clone --branch android10-release git@gitee.com:mirrors/platform_frameworks_base.git --depth 1
    </div>
  </div>

        
      
        <h2 class="f1">
          <a href="/tags/github/" class="link blue hover-black">
            Tag: github
          </a>
        </h2>
        
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
      <div class="f6">
        January 28, 2018
      </div>
    
    <h1 class="f3 near-black">
      <a href="/archives/141/" class="link black dim">
        Git一些常用命令
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      命令 Remote git remote set-url origin git@github.com:xfans/VirtualApp.git
git push origin master
Upstream git remote add upstream git@github.com:asLody/VirtualApp.git
git fetch upstream
git merge upstream/master
快速下载android frameworks源码 git clone --branch android10-release git@gitee.com:mirrors/platform_frameworks_base.git --depth 1
    </div>
  </div>

        
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
      <div class="f6">
        January 11, 2018
      </div>
    
    <h1 class="f3 near-black">
      <a href="/archives/69/" class="link black dim">
        使用SVN下载GitHub单个目录内的文件
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      背景 有时候需要在GitHub上下载单个目录里面的文件，而不需要去克隆整个项目，太大的项目克隆起来太慢。
解决方案 GitHub是支持SVN访问的，所以可以使用SVN下载单个目录。
下载master分支 复制浏览器地址栏中的地址，如：
https://github.com/bumptech/glide/tree/master/integration
将tree改为trunk即可。
https://github.com/bumptech/glide/trunk/integration
下载其他分支 如：
https://github.com/bumptech/glide/tree/3.0/integration
将tree改为branches即可。
https://github.com/bumptech/glide/branches/3.0/integration
然后svn checkout 即可。
    </div>
  </div>

        
      
        <h2 class="f1">
          <a href="/tags/charles/" class="link blue hover-black">
            Tag: Charles
          </a>
        </h2>
        
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
      <div class="f6">
        January 19, 2018
      </div>
    
    <h1 class="f3 near-black">
      <a href="/archives/80/" class="link black dim">
        一个bad request http request or invalid response的错误
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      问题 部分客户端api报错，特别是8.0系统上，访问api出现bad request http request or invalid response,from ulb错误。
解决步骤 1.服务器联调 服务器端未发现问题，参数都对。服务器上也没有这句错误信息。猜测应该是服务器上层报出来的错误，如负载均衡。
2.用Charles抓包 Charles抓包后，就不会出现该错误了。后来发现Charles对错误报文进行了兼容处理，发给服务器的应该对的。
3.去GIthub查网络库的issues 项目中使用的是,Android-async-http这个库,issues中没有人说8.0中有这个问题，猜想应该是自己代码中的问题。
4.大鲨鱼Wireshark抓包 大鲨鱼Wireshark抓包后会出现该错误，没有看出报文有异常。
比较正确的报文和错误的报文，发现大小不一样。
最终发现（找了好久，反正就是很艰难），错误的报文Header中多了一个空行。
原因 在往Header中添加参数时，有一个参数出现了\n,正常情况下客户端发送报文的时会忽略\n，而有的版本把\n放在了报文中，导致报文格式出错。
    </div>
  </div>

        
      
        <h2 class="f1">
          <a href="/tags/wireshark/" class="link blue hover-black">
            Tag: Wireshark
          </a>
        </h2>
        
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
      <div class="f6">
        January 19, 2018
      </div>
    
    <h1 class="f3 near-black">
      <a href="/archives/80/" class="link black dim">
        一个bad request http request or invalid response的错误
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      问题 部分客户端api报错，特别是8.0系统上，访问api出现bad request http request or invalid response,from ulb错误。
解决步骤 1.服务器联调 服务器端未发现问题，参数都对。服务器上也没有这句错误信息。猜测应该是服务器上层报出来的错误，如负载均衡。
2.用Charles抓包 Charles抓包后，就不会出现该错误了。后来发现Charles对错误报文进行了兼容处理，发给服务器的应该对的。
3.去GIthub查网络库的issues 项目中使用的是,Android-async-http这个库,issues中没有人说8.0中有这个问题，猜想应该是自己代码中的问题。
4.大鲨鱼Wireshark抓包 大鲨鱼Wireshark抓包后会出现该错误，没有看出报文有异常。
比较正确的报文和错误的报文，发现大小不一样。
最终发现（找了好久，反正就是很艰难），错误的报文Header中多了一个空行。
原因 在往Header中添加参数时，有一个参数出现了\n,正常情况下客户端发送报文的时会忽略\n，而有的版本把\n放在了报文中，导致报文格式出错。
    </div>
  </div>

        
      
        <h2 class="f1">
          <a href="/tags/svn/" class="link blue hover-black">
            Tag: svn
          </a>
        </h2>
        
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
      <div class="f6">
        January 11, 2018
      </div>
    
    <h1 class="f3 near-black">
      <a href="/archives/69/" class="link black dim">
        使用SVN下载GitHub单个目录内的文件
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      背景 有时候需要在GitHub上下载单个目录里面的文件，而不需要去克隆整个项目，太大的项目克隆起来太慢。
解决方案 GitHub是支持SVN访问的，所以可以使用SVN下载单个目录。
下载master分支 复制浏览器地址栏中的地址，如：
https://github.com/bumptech/glide/tree/master/integration
将tree改为trunk即可。
https://github.com/bumptech/glide/trunk/integration
下载其他分支 如：
https://github.com/bumptech/glide/tree/3.0/integration
将tree改为branches即可。
https://github.com/bumptech/glide/branches/3.0/integration
然后svn checkout 即可。
    </div>
  </div>

        
      
        <h2 class="f1">
          <a href="/tags/dns/" class="link blue hover-black">
            Tag: dns
          </a>
        </h2>
        
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
      <div class="f6">
        January 10, 2018
      </div>
    
    <h1 class="f3 near-black">
      <a href="/archives/63/" class="link black dim">
        在Okhttp中使用HTTPDNS
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      背景 用户经常在国外使用App，国外的网络环境更加复杂，经常会出现UnknownHostException的异常，无法解析DNS。
解决方案 当遇到该异常时就需要自己去解析DNS。常用的自己解析DNS的方式有两种
1.自己拿到IP后替换域名（App老的方式） 比如使用dnsjava拿到IP后需要：
    </div>
  </div>

        
      
        <h2 class="f1">
          <a href="/tags/linux/" class="link blue hover-black">
            Tag: linux
          </a>
        </h2>
        
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
      <div class="f6">
        November 23, 2017
      </div>
    
    <h1 class="f3 near-black">
      <a href="/archives/56/" class="link black dim">
        Linux下安装网络环境模拟工具augmented-traffic-control
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      augmented-traffic-control A tool to simulate network conditions,Facebook提供的一款网络环境模拟工具，可以使用他来测试App在各种网络环境下的问题。
安装环境要求 Python2.7、Django1.10.+
以下在Manjora下的安装命令
切换Python环境到Python2.7 安装pip sudo pacman -S python2-pip
安装Django1.10.+ sudo pip install Django==1.10.8
安装ATC 安装lib sudo pacman -S pip install atc_thrift atcd django-atc-api django-atc-demo-ui django-atc-profile-storage
Django配置 django-admin startproject atcui
cd atcui
修改atcui/settings.py中的INSTALLED_APPS 修改atcui/urls.py中的urlpatterns及引用 更新数据库 python manage.py migrate
创建虚拟Ap Linux开启虚拟AP
启动ATC sudo atcd --atcd-wan wlp3s0 --atcd-lan ap0
注意：wlp3s0是我的无线网卡，ap0是我创建的虚拟ap网卡
设置错误可能出现：https://github.com/facebook/augmented-traffic-control/issues/239
启动ATCUI python manage.py runserver 0.0.0.0:8000
导入默认配置 下载该路径下的文件https://github.com/facebook/augmented-traffic-control/tree/master/utils 运行导入命令 ./restore-profiles.sh localhost:8000
手机使用ATC 使用Android、iOS 的浏览器访问
ip:8000 ip为你电脑的ip
    </div>
  </div>

        
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
      <div class="f6">
        October 9, 2017
      </div>
    
    <h1 class="f3 near-black">
      <a href="/archives/42/" class="link black dim">
        Linux开启虚拟AP
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      安装create_ap pacman -S create_ap
增加一个虚拟网络接口并设置一个mac地址 sudo iw dev wlp3s0 interface add wlp3s0_ap type __ap
sudo ip link set dev wlp3s0_ap address 04:e2:b9:17:18:72
创建AP sudo create_ap -c 11 wlp3s0_ap wlp3s0 xfans_ap 321321321
create_ap下载 https://github.com/oblique/create_ap
参考 https://wiki.archlinux.org/index.php/Software_access_point_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)
https://www.zhihu.com/question/24961490
    </div>
  </div>

        
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
      <div class="f6">
        September 29, 2017
      </div>
    
    <h1 class="f3 near-black">
      <a href="/archives/16/" class="link black dim">
        Linux Manjaro安装kernel及Kernel Headers
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      查找可用内核 pacman -Ss linux-headers
安装 pacman -S linuxXY linuxXY-headers
注意:XY为你要安装的版本号,如:
pacman -S linux49 linux49-headers
    </div>
  </div>

        
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
      <div class="f6">
        September 29, 2017
      </div>
    
    <h1 class="f3 near-black">
      <a href="/archives/12/" class="link black dim">
        设置Python版本
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
       
    </div>
  </div>

        
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
      <div class="f6">
        September 29, 2017
      </div>
    
    <h1 class="f3 near-black">
      <a href="/archives/10/" class="link black dim">
        Linux更新grub启动项
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
       
    </div>
  </div>

        
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
      <div class="f6">
        September 29, 2017
      </div>
    
    <h1 class="f3 near-black">
      <a href="/archives/6/" class="link black dim">
        Manjaro使用bbswitch关闭笔记本的nvidia独立显卡
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      Manjaro关闭独立显卡
安装bbswitch 在/etc/modules-load.d下新建bbswitch.conf，并修改为如下内容。这样每次启动都会加载bbswitch模块了 在/etc/modprobe.d/下新建bbswitch.conf，并修改为如下内容。这是bbswitch加载的参数，我们让其默认关闭 在/etc/modprobe.d/下新建nouveau_blacklist.conf，并修改为如下内容。有时候bbswitch加载了，但是不能关闭显卡，因为有些模块正在占用着，因此要禁掉。 在/usr/lib/systemd/system-shutdown/下新建nvidia_card_enable.sh，并修改为以下内容，记得加运行权限。每次reboot的时候，显卡都是关闭的，不管是重启到windows还是linux，都会找不到设备，必须彻底关机才行。解决该问题的办法就是每次重启都启用显卡 查看状态 原文 http://blog.csdn.net/gt945/article/details/10922263
    </div>
  </div>

        
      
        <h2 class="f1">
          <a href="/tags/%E7%BD%91%E7%BB%9C%E7%8E%AF%E5%A2%83/" class="link blue hover-black">
            Tag: 网络环境
          </a>
        </h2>
        
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
      <div class="f6">
        November 23, 2017
      </div>
    
    <h1 class="f3 near-black">
      <a href="/archives/56/" class="link black dim">
        Linux下安装网络环境模拟工具augmented-traffic-control
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      augmented-traffic-control A tool to simulate network conditions,Facebook提供的一款网络环境模拟工具，可以使用他来测试App在各种网络环境下的问题。
安装环境要求 Python2.7、Django1.10.+
以下在Manjora下的安装命令
切换Python环境到Python2.7 安装pip sudo pacman -S python2-pip
安装Django1.10.+ sudo pip install Django==1.10.8
安装ATC 安装lib sudo pacman -S pip install atc_thrift atcd django-atc-api django-atc-demo-ui django-atc-profile-storage
Django配置 django-admin startproject atcui
cd atcui
修改atcui/settings.py中的INSTALLED_APPS 修改atcui/urls.py中的urlpatterns及引用 更新数据库 python manage.py migrate
创建虚拟Ap Linux开启虚拟AP
启动ATC sudo atcd --atcd-wan wlp3s0 --atcd-lan ap0
注意：wlp3s0是我的无线网卡，ap0是我创建的虚拟ap网卡
设置错误可能出现：https://github.com/facebook/augmented-traffic-control/issues/239
启动ATCUI python manage.py runserver 0.0.0.0:8000
导入默认配置 下载该路径下的文件https://github.com/facebook/augmented-traffic-control/tree/master/utils 运行导入命令 ./restore-profiles.sh localhost:8000
手机使用ATC 使用Android、iOS 的浏览器访问
ip:8000 ip为你电脑的ip
    </div>
  </div>

        
      
        <h2 class="f1">
          <a href="/tags/debug/" class="link blue hover-black">
            Tag: debug
          </a>
        </h2>
        
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
      <div class="f6">
        October 10, 2017
      </div>
    
    <h1 class="f3 near-black">
      <a href="/archives/46/" class="link black dim">
        android打印函数调用堆栈
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      打印方法调用堆栈 
    </div>
  </div>

        
      
        <h2 class="f1">
          <a href="/tags/web/" class="link blue hover-black">
            Tag: web
          </a>
        </h2>
        
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
      <div class="f6">
        September 29, 2017
      </div>
    
    <h1 class="f3 near-black">
      <a href="/archives/14/" class="link black dim">
        WordPress XML-RPC wp接口文档
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>外边慢,备份下</p>
<h2 id="wpgetusersblogs">wp.getUsersBlogs</h2>
<p>Retrieve the blogs of the users.</p>
<h3 id="parameters">Parameters</h3>
<ul>
<li>string username</li>
<li>string password</li>
</ul>
<h3 id="return-values">Return Values</h3>
<ul>
<li>array
<ul>
<li>struct
<ul>
<li>boolean isAdmin</li>
<li>string url</li>
<li>string blogid</li>
<li>string blogName</li>
<li>string xmlrpc</li>
</ul>
</li>
</ul>
</li>
</ul>
    </div>
  </div>

        
      
        <h2 class="f1">
          <a href="/tags/svg/" class="link blue hover-black">
            Tag: svg
          </a>
        </h2>
        
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
      <div class="f6">
        September 29, 2017
      </div>
    
    <h1 class="f3 near-black">
      <a href="/archives/8/" class="link black dim">
        Using AndroidSVG with ImageView
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      地址:http://bigbadaboom.github.io/androidsvg/use_with_ImageView.html
Github:https://github.com/BigBadaboom/androidsvg
    </div>
  </div>

        
      
    </section>
  </div>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="/" >
    &copy; 
  </a>
    <div>
<div class="ananke-socials">
  
</div>
</div>
  </div>
</footer>

  </body>
</html>
