<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>okhttp on </title>
    <link>/tags/okhttp/</link>
    <description>Recent content in okhttp on </description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en</language>
    <lastBuildDate>Fri, 17 Jan 2020 12:07:00 +0000</lastBuildDate><atom:link href="/tags/okhttp/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>okhttp3源码及请求流程分析</title>
      <link>/archives/329/</link>
      <pubDate>Fri, 17 Jan 2020 12:07:00 +0000</pubDate>
      
      <guid>/archives/329/</guid>
      <description>okhttp3è¯·æ±æµç¨å¾å¦ä¸</description>
    </item>
    
    <item>
      <title>快速的将Android-async-http升级到OKhttp</title>
      <link>/archives/148/</link>
      <pubDate>Sat, 24 Feb 2018 11:30:45 +0000</pubDate>
      
      <guid>/archives/148/</guid>
      <description>èæ¯ Android-async-httpå·²ç»ä¸æ´æ°äºãps:è¿ä¸ºè¿ä¸ªåºæäº¤è¿åè½https://github.com/android-async-http/android-async-http/pull/840
Android-async-httpæ¯åºäºHttpClientçã
æ¿æ¢æ¹æ¡ å°é¡¹ç®ä¸­ææçè¯·æ±ä»£ç é½æ¿æ¢å·¥ä½éå·¨å¤§ï¼ä¹å®¹æåºé®é¢ãæä»¥éç¨å°Okhttpå°è£ ä¸ºAndroid-async-httpçæ¹å¼è¿è¡æ¿æ¢ã
android-async-httpçä½¿ç¨æ¹æ³:
&amp;lt;pre class=&amp;#34;wp-block-preformatted&amp;#34;&amp;gt;``` AsyncHttpClient client = &amp;lt;strong&amp;gt;new &amp;lt;/strong&amp;gt;AsyncHttpClient(); String url = &amp;lt;strong&amp;gt;&amp;#34;http://xfans.me/api/v1/list&amp;#34;&amp;lt;/strong&amp;gt;; client.get(url, &amp;lt;strong&amp;gt;new &amp;lt;/strong&amp;gt;AsyncHttpResponseHandler() { @Override &amp;lt;strong&amp;gt;public void &amp;lt;/strong&amp;gt;onSuccess(&amp;lt;strong&amp;gt;int &amp;lt;/strong&amp;gt;statusCode, Header[] headers, &amp;lt;strong&amp;gt;byte&amp;lt;/strong&amp;gt;[] responseBody) { } @Override &amp;lt;strong&amp;gt;public void &amp;lt;/strong&amp;gt;onFailure(&amp;lt;strong&amp;gt;int &amp;lt;/strong&amp;gt;statusCode, Header[] headers, &amp;lt;strong&amp;gt;byte&amp;lt;/strong&amp;gt;[] responseBody, Throwable error) { } }); ä»&amp;amp;#142;ä»£ç &amp;amp;#129;å&amp;amp;#143;¯ä»¥ç&amp;amp;#156;&amp;amp;#139;å&amp;amp;#135;º,æ&amp;amp;#131;³è¦&amp;amp;#129;å¿«é&amp;amp;#128;&amp;amp;#159;ç&amp;amp;#154;&amp;amp;#132;æ&amp;amp;#155;¿æ&amp;amp;#141;¢é&amp;amp;#156;&amp;amp;#128;è¦&amp;amp;#129;: 1.ä½¿ç&amp;amp;#148;¨okhttpæ&amp;amp;#157;¥å®&amp;amp;#158;ç&amp;amp;#142;°`AsyncHttpClient` 2.å®&amp;amp;#158;ç&amp;amp;#142;°`AsyncHttpResponseHandler`,`FileAsyncHttpResponseHandler`,`JsonHttpResponseHandler`,`TextHttpResponseHandler`ç­&amp;amp;#137;é¡¹ç&amp;amp;#155;®ä¸­ä½¿ç&amp;amp;#148;¨ç&amp;amp;#154;&amp;amp;#132;Handlerå&amp;amp;#141;³å&amp;amp;#143;¯. </description>
    </item>
    
    <item>
      <title>在Okhttp中使用HTTPDNS</title>
      <link>/archives/63/</link>
      <pubDate>Wed, 10 Jan 2018 20:06:27 +0000</pubDate>
      
      <guid>/archives/63/</guid>
      <description>èæ¯ ç¨æ·ç»å¸¸å¨å½å¤ä½¿ç¨Appï¼å½å¤çç½ç»ç¯å¢æ´å å¤æï¼ç»å¸¸ä¼åºç°UnknownHostExceptionçå¼å¸¸ï¼æ æ³è§£æDNSã
è§£å³æ¹æ¡ å½éå°è¯¥å¼å¸¸æ¶å°±éè¦èªå·±å»è§£æDNSãå¸¸ç¨çèªå·±è§£æDNSçæ¹å¼æä¸¤ç§
1.èªå·±æ¿å°IPåæ¿æ¢ååï¼Appèçæ¹å¼ï¼ æ¯å¦ä½¿ç¨dnsjavaæ¿å°IPåéè¦ï¼
å¯¹è¯·æ±çååè¿è¡æ¿æ¢ å¯¹Headerä¸­çHostè¿è¡æ¿æ¢ å¯¹Cookieä¸­çdomainè¿è¡æ¿æ¢ Httpsä¸è¯ä¹¦æ ¡éªé®é¢ .â¦â¦ start=&amp;ldquo;1.&amp;quot;&amp;gt; ä½¿ç¨èµ·æ¥æ¯è¾éº»ç¦ï¼é®é¢è¾å¤ã
2.ä½¿ç¨Okhttpèªå®ä¹DNSåè½ ç®ååæAppä»android-async-httpåæ¢å°OKhttpã(PS:è±äºä¸å¨å¤æ¶é´ï¼æ¹å°åè¡)ï¼å¯ä»¥ç´æ¥ä½¿ç¨Okhttpèªå®ä¹dnsåè½ã
DNSçè§£ææ¹å¼éæ©äºHTTPDNSï¼HTTPDNSç´æ¥ä½¿ç¨ HTTPåè®®å»æ¥è¯¢DNSï¼é¿å¼äºä¼ ç»UDPæ¹å¼DNSçDNSå«æï¼ä¸åç¡®ç­å¼ç«¯ã
è¯¦è§ï¼ãé¹ åç½äºãå ¨å±ç²¾ç¡®æµéè°åº¦æ°æè·¯-HttpDNSæå¡è¯¦è§£ 3.Okhttpèªå®ä¹DNS HTTPDNSéæ©äºDNSpodåGoogle Public DNSä¸¤å®¶ã
å¨å½å¤éç¨Google Public DNS
å¨å½å éç¨DNSpod
å®ç°æ¹å¼å¦ä¸ï¼
&amp;lt;pre class=&amp;#34;line-numbers prism-highlight&amp;#34; data-start=&amp;#34;1&amp;#34;&amp;gt;```java public class OkDns implements Dns { private String mIps; private long mLastDnsTime; private static final long DNS_TTL = 600 * 1000;//è&amp;amp;#135;ªå®&amp;amp;#154;ä¹&amp;amp;#137;DNSç¼&amp;amp;#147;å­&amp;amp;#152;æ&amp;amp;#151;¶é&amp;amp;#151;´ @Override public List&amp;lt;InetAddress&amp;gt; lookup(String hostname) throws UnknownHostException { try { List&amp;lt;InetAddress&amp;gt; list = Dns.</description>
    </item>
    
  </channel>
</rss>
